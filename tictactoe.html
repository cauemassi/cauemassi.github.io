<!DOCTYPE html>
<html>
	<head>

		<title>Jogo da Velha</title>

		<meta charset="utf-8">
  		<meta name="viewport" content="width=device-width, initial-scale=1">
  		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

  		<style>  			

  			table{
  				width:400px;
  				height: 400px;
  			}

			.btn-game{
				width: 100%; 
				height: 100%;
			}

  			.center {
    			margin-left:auto; 
    			margin-right:auto;
  			}


  		</style>

  		<script>
  			
  			function updateScore(j1, j2, score1, score2){
  				$('#score').text(j1 + " " + score1 + " X " + score2 + " " + j2);  				
  			}

  			function setSetup(){
  				$('#game').hide();
  				$('#setup').fadeIn(1200);
  				$('#j1').val("");
  				$('#j2').val("");
  				$('#alert').hide();
  			}

  			function setGame(j1){
  				$('#setup').hide();
  				$('#game').fadeIn(1200);
  				$('#player-turn').text("Vez de " + j1);
  			}

  			function checkWinner(currentPlayer){

  				console.log($(".btn-game").text())
  			}

  			
  			$(document).ready(function(){
  				var j1 = "";
  				var j2 = "";
  				var score1 = 0;
  				var score2 = 0;
  				var currentPlayer = true;
  				$('#game').hide();
  				$('#alert').hide();

  				$('#btn-game').click(function(){

  					if($('#j1').val() == "" || $('#j2').val() == ""){
  						$('#alert').fadeIn(400);
  						console.log("tem que aparecer alerta");
  					}
  					else{
  						j1 = $('#j1').val();
  						j2 = $('#j2').val();
  						setGame(j1);
  						updateScore(j1, j2, score1, score2);
  					}
  					
  				});

  				$('#change-names').click(function(){
  					score1 = 0;
  					score2 = 0;
  					setSetup();
  				});

  				$('.btn-game').click(function(){
  					console.log($(this).text());
  					if(currentPlayer){
  						$(this).text("X");
  						currentPlayer = !currentPlayer;
  					}
  					else{
  						$(this).text("0");
  						currentPlayer = !currentPlayer;
  					}
  					checkWinner(currentPlayer);

  				});
	

  			});

  		</script>


	</head>
	<body>

		<div class="container">

			<div class="jumbotron" style="background-color: lightgray; padding: 45px;">
				<h1 class="text-center">Jogo da Velha</h1>
			</div>

			<div id="setup">
				<div class="form-group">
	  				<label>Digite o nome do jogador 1:</label>
	  				<input type="text" class="form-control" id="j1">
				</div>

				<div class="form-group">
	  				<label>Digite o nome do jogador 2:</label>
	  				<input type="text" class="form-control" id="j2">
				</div>

				<div>
					<button type="button" id="btn-game" class="btn btn-primary">Iniciar</button>
				</div></br>

				<div id="alert" class="alert alert-danger">
  					<strong>Ainda não!</strong> Digite um nome para os jogadores.
				</div>
			</div>

			<div id="game">
				<div>
					<h1 id="player-turn" style="text-align: center"> Vez de </h1>
				</div>

				<div style="height:100px;">
					<table align="center">
					  <tr>
					    <td><button id="btn1" class="btn btn-primary btn-game">1</button></td>
					    <td><button id="btn2" class="btn btn-primary btn-game">2</button></td>
					    <td><button id="btn3" class="btn btn-primary btn-game">3</button></td>
					  </tr>
					  <tr>
					    <td><button id="btn4" class="btn btn-primary btn-game">4</button></td>
					    <td><button id="btn5" class="btn btn-primary btn-game">5</button></td>
					    <td><button id="btn6" class="btn btn-primary btn-game">6</button></td>
					  </tr>
					  <tr>
					    <td><button id="btn7" class="btn btn-primary btn-game">7</button></td>
					    <td><button id="btn8" class="btn btn-primary btn-game">8</button></td>
					    <td><button id="btn9" class="btn btn-primary btn-game">9</button></td>
					  </tr>
					<table>

				</div>

				<div>
					<h2 id="score" style="text-align:center">Placar:</h2>
				</div>

				<div style="text-align:center">
					<button id="restart" class="btn btn-success">Recomeçar</button>
					<button id="change-names" class="btn btn-success">Mudar nomes</button>
				</div>

			</div>

		</div>

	</body>
</html>
